addons:
  chrome: stable
before_install: npm install npm@latest --global
cache:
  directories:
    - $HOME/.npm
dist: xenial
env:
  global:
    - secure: riaxYKZoiz8lXwvYtr4JKO0NIPvVq0WQEoE4rwPy1AT2mscIcKxhBHdF+BO7Hw8PV+JesdGtkY9v7tGAbf33d7SOeAwrjEajY4487Lhrl254rLYyJk5tbqFFbFcZSv/FXwM9MaXylDnWao6jcyv0jmM6iDgTMWtyAyRaDeoTkb7nDMsA86exizk0tHNn3jQ+tVF1hYjBNDGItNc22pT2XbtvxrE6sfrXDDMf1H1SW5LgIZKa/2Mu44m8HQLrbTG3vJCO3Xh0mRpm7wnd6T1XCSS6yUBLQEWGjUBfY0xvSA+NXjAYhWJPtK154hWFzGCvEAwcHzJk8u7qiuxxR5pcdEb8u+06DXGeglcmktONwYm7rzWfg1VFcVQgGnAE2xjAvR4uBMTkCGVm9Qy/HaBC8u7Ij4WPICaKh1vbYi52lSL01SqJcESFwhTrWUT8j9D4AUQCQ6rKF5KkxQnsgeHsXWMt/59hGS9Clo2Yev7k+ajNMvHDde7JT1eFx2KdzqkZToxyknDyhiCpQXRTWIKFEIijIOMijcsvr0C8UsJIJZK/fZlVjfT5no6mg94AbYaCeh31Ji0l/n0po+vvc0bCYqJaW3ToLwV1SoOfByDxUJf79vqOp+J9MdMnBZT7+T5fMLS2lHxkgTJfTt3H10P89YoFZDdt3KsAPeHV9lfdtFs=
    - secure: gVUY1PB6X3bGcwIG4g2tEOD0mzrbW3tYoWJiKRqxkE3GbfYmSQKAG8UadgtipmsL16d/68COiAFulNM4nxqN8/+GWSQ3z4fAQOYA+IepfMknDPymGrijJXhqscTjLRROejuumw2KgZvlv7OxxqfcBbwmUTKINKIYM8QVl0m/ExGjQxxvM94EosACCLWyfsL6ATO7u7fUwPrb6HXB0laWsNVrvh0zCXV9i1HsYTuR80J6uLueOAIK/fengw3M/yX3JAFLM/L2Hz6x06YDvX4cwZSBzl39kSkWlzYSwLosGDPDy11nXeNlxBo/P9TYTw54Fx345F9xpUGQb5CDO3t/6Sh5wsuyitD8+LH5pdONIYH6jvmQcNidYoR9XH+LgN+u2d9CswIG/z+nL3znb0ig2/KRH5nc6mLHJHjNQduNyBTg4Lzh2XhLWjilpTOeazJo0B40KK0KEa1PqgGx7rbfBj/TL5tMGQtroFNAKCr0P3aCyknDluAWofuorF73UkNwQt9aqrrkMfefwkIpjOpnomp1+IolMSCF7FDvodtp2Q/+kdhG7SRLYy95AthFdPikP6kASs2eMk3uyQaj8C1XDVxZhIA3dTSgUmfOM/6TQTfl84NhQXteZuxbNhkB6MODgHWmczAFnNBdkzcRtMFzzfS7mEyNDKcyIKAkVyYeDB4=
    - secure: fYwqdQljz20C6o29soXlCfXbUeGw7Qmy6FINX2dLuylLNh0kvDyxeKnuA4baIvPIG4DoDkOziFCkFblifBvDB17Ek70cFWKWwxp+rGouVCCzXRGibIFr9RlW4kf/ESUmnGt1OIwQSl/OKbEWa0tuTYDdX5h/frjpL+FtkO4GcZ6IkzTZ259mrpMZ8zn67rLPiuj/E+K4dV0dgYNzBJO9amxw8RVx90GUHHLb7+yfmqmfAffSoj4mSMKM+7FLG+ZKswLTuXYa3dUO8AN5eEo0QngCuIE9w2HfLhyqHe2uushNmiSOMpCXP4WQSBaraJ8SHYDOj3TBAwGly/hZt2KlJeXrQdYzN2ZWrhFxwLRnveUG7HbC7M54PeCtzQj0OkeHcQeMQ1ykGIyMFgChHP4GjbcnatyxV4BYfSnugMR4q4s6DYnsutEmVdIYIxWK5Op/+ondaCWDRXzr5MC98SlbHyl0c4CUn13Hr3b2jud4TyGSV7R9J/7kpt4ThsdKSDNixtg/KZmDPGLzbaVhX/Vvh3HZrf/z2BcNenJBhtq8Bv85UHFh6wU3PktYhV0oaGi1/o4C0MbhEhOMqu0Q6NNWM52tTCYMrNQkUOyrhVMedztABRyRmIADrEN/786QqfKnfqDgHSx7BWlAquovKyVJKzVRjq0XIL6XO6NI8Y4bbME=
    - secure: pBH016wk05TtnEyZBck5Ro7cuPikhfNBNszDRH8SZqFPGGELCqrHnNWk3eRC+fVf5/MEBkvJGC5+8ktI0bselRAgykglsk7oI/HPfhZFB/AqywG0SKSImhKqnQK78YBx0a0dG8ZbmOaGksw5Zpj0lH792cmZMuqadxpbggl80XVT/X1LGvV13v5FPYZuRz4QU3yiLrE64Z1PIfTUUSYrHCvQpEdMXHEAGFTWRiX97vkh1MUl6j5+3tr52Pang7NtBGkENFe7Kv25dgHAmthfo2ojraMR5ypndp4YICvSSJ7TOX2wgljwqH8Zq+YUM5Fk6yiEwms6hE0WfnQTxi9kgVCxKhMd8BgNJBNp0g55Gb9/pNvfjfvmpk/tpbaYiZE91fRf2NBFb9QJsD6UW+0jq1b5L38k4RxxHH3jlP8u87zciWQUpvxXQa13js8nRU6TaqV1s+Y1NnhdNXk/rPyASZSqOXcPR1neHJNdZSOBvgmiOTNO7FgstXdZjlFc/6RxCERBacw9uF0Z4O6UEJC05DOVoI43SMENdQw8OuDPgvSGNvD4peh99OhOrU9tQXA+nTSyFJyQeiSIsQGZXAaxMflVMIHjirEIWbwEXKeJUx2ML/EWY27rUnHrym0A2w/659UzUND2z5avSaiPrGAgsVGLGmCl+ITCtNiWbLgXeig=
    - secure: y8E2iSggIiUmAexzETB1/XIMky7Q6mCqfq+mpjJpJryuWomSxW7nDWNnMjGec5g6AW27ch5MDFqtRzYqfFA3ZMLA3W+XYN4QCktv+3Fu9fOmddndLEIJk0z/KuEyzWNGiuLiN09Usu4oX2gWeWWCXZ11RYlNtkJXVP9hLAoq/utgqAfpyPjCo1Q0AWoq5tVNzrebSItPho+ZpaXm7GG3GclanDb5e809BlJeYNzfpZ9xwJ3u9sUh8PQjnRCXHL2HTG76wNoQ9KkmPPJH93zNN4U5ncuSK4KnKiJjSgbIktzlRgI7EJZ1M7RWPkwr8LzEitiGZTBF567SgZCqu7os9EkqF4YCU5dkpopVlbi72X5Ef4fqP29grNfss+9xTojZoDg4Gg6YsKpYpbgHKVcixPo0BIJFMlQ2gB8KpOBroNKW4bylU1U5gOeQP6OlIQXSwK77f9v7heDCoi4500+mHU9QKg5qaO8SnZZC7QwN8OTkWWBXgKfpGk2jr1IGWm3KiUvSSbPlke1gJMgSSvsrnG3mNQzm8AzWdeAOyUf2rs8VkadZdYJmgE9DDeHD3smWCamILNCGcYz3fpdoWXZE2BufCNlMJgqFCf2Gbw883B/BWATWdemrgeMNApZPoT3CZjkkpJ1jfySUR831XFsRb/L7KUkEzNTX/ulCqDCBs9U=
install: npm ci || (rm -rf node_modules && npm install)
language: node_js
node_js: 12
script:
  - npm test
  - grunt deploy-on-version-updates
